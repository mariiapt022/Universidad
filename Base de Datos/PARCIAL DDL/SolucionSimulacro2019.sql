--------------------------------------------------------
-- Archivo creado  - martes-noviembre-26-2019   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table ES_AMIGO_DE
--------------------------------------------------------

  CREATE TABLE "SIM18A78K4"."ES_AMIGO_DE" 
   (	"CORREO1" VARCHAR2(40 CHAR), 
	"CORREO2" VARCHAR2(40 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"   NO INMEMORY ;
--------------------------------------------------------
--  DDL for Table HOTEL
--------------------------------------------------------

  CREATE TABLE "SIM18A78K4"."HOTEL" 
   (	"ESTRELLAS" VARCHAR2(1 BYTE), 
	"WIFIGRATIS" VARCHAR2(2 BYTE), 
	"CODIGO" VARCHAR2(5 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"   NO INMEMORY ;
--------------------------------------------------------
--  DDL for Table OPINION
--------------------------------------------------------

  CREATE TABLE "SIM18A78K4"."OPINION" 
   (	"FECHA" DATE, 
	"COMENTARIO" VARCHAR2(200 BYTE), 
	"PUNTUACION" NUMBER, 
	"CODIGO" VARCHAR2(5 BYTE), 
	"CORREO" VARCHAR2(40 BYTE), 
	"FECHA2" DATE, 
	"CODIGO2" VARCHAR2(5 BYTE), 
	"CORREO2" VARCHAR2(40 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"   NO INMEMORY ;
--------------------------------------------------------
--  DDL for Table RESTAURANTE
--------------------------------------------------------

  CREATE TABLE "SIM18A78K4"."RESTAURANTE" 
   (	"TIPOCOMIDA" VARCHAR2(20 BYTE), 
	"CODIGO" VARCHAR2(5 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TS_ALUMNOS"   NO INMEMORY ;
--------------------------------------------------------
--  DDL for Table SITIO
--------------------------------------------------------

  CREATE TABLE "SIM18A78K4"."SITIO" 
   (	"NOMBRE" VARCHAR2(40 BYTE), 
	"DIRECCION" VARCHAR2(40 BYTE), 
	"POBLACION" VARCHAR2(40 BYTE), 
	"TELEFONO" VARCHAR2(10 BYTE), 
	"PUNTUACIONMEDIA" NUMBER(2,0), 
	"CODIGO" VARCHAR2(5 BYTE), 
	"CORREO" VARCHAR2(40 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"   NO INMEMORY ;
--------------------------------------------------------
--  DDL for Table USUARIO
--------------------------------------------------------

  CREATE TABLE "SIM18A78K4"."USUARIO" 
   (	"CORREO" VARCHAR2(40 BYTE), 
	"NOMBRE" VARCHAR2(20 BYTE), 
	"APELLIDOS" VARCHAR2(40 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"   NO INMEMORY ;
REM INSERTING into SIM18A78K4.ES_AMIGO_DE
SET DEFINE OFF;
Insert into SIM18A78K4.ES_AMIGO_DE (CORREO1,CORREO2) values ('lola@uncorreo.es','victor@uncorreo.es');
Insert into SIM18A78K4.ES_AMIGO_DE (CORREO1,CORREO2) values ('victor@uncorreo.es','lola@uncorreo.es');
Insert into SIM18A78K4.ES_AMIGO_DE (CORREO1,CORREO2) values ('cardo@sucorreo.es','lola@uncorreo.es');
REM INSERTING into SIM18A78K4.HOTEL
SET DEFINE OFF;
Insert into SIM18A78K4.HOTEL (ESTRELLAS,WIFIGRATIS,CODIGO) values ('4','NO','55');
Insert into SIM18A78K4.HOTEL (ESTRELLAS,WIFIGRATIS,CODIGO) values ('1','NO','12');
REM INSERTING into SIM18A78K4.OPINION
SET DEFINE OFF;
Insert into SIM18A78K4.OPINION (FECHA,COMENTARIO,PUNTUACION,CODIGO,CORREO,FECHA2,CODIGO2,CORREO2) values (to_date('13/11/19','DD/MM/RR'),'Chinches muy gorditas','3','55','lola@uncorreo.es',null,null,null);
Insert into SIM18A78K4.OPINION (FECHA,COMENTARIO,PUNTUACION,CODIGO,CORREO,FECHA2,CODIGO2,CORREO2) values (to_date('13/11/19','DD/MM/RR'),'Chinches muy saludables','4','12','victor@uncorreo.es',null,null,null);
REM INSERTING into SIM18A78K4.RESTAURANTE
SET DEFINE OFF;
REM INSERTING into SIM18A78K4.SITIO
SET DEFINE OFF;
Insert into SIM18A78K4.SITIO (NOMBRE,DIRECCION,POBLACION,TELEFONO,PUNTUACIONMEDIA,CODIGO,CORREO) values ('La Chinche alegre','C. Pulgas 2','Alcafrán','999666999','0','55','lola@uncorreo.es');
Insert into SIM18A78K4.SITIO (NOMBRE,DIRECCION,POBLACION,TELEFONO,PUNTUACIONMEDIA,CODIGO,CORREO) values ('La Cucaracha Feliz','C. Pulgas 5','Alcafrán','999666777','0','12','victor@uncorreo.es');
Insert into SIM18A78K4.SITIO (NOMBRE,DIRECCION,POBLACION,TELEFONO,PUNTUACIONMEDIA,CODIGO,CORREO) values ('aasdasd','adasdasd','aasdasdd','453434','5','10','cardo@sucorreo.es');
REM INSERTING into SIM18A78K4.USUARIO
SET DEFINE OFF;
Insert into SIM18A78K4.USUARIO (CORREO,NOMBRE,APELLIDOS) values ('lola@uncorreo.es','Lola','Mento');
Insert into SIM18A78K4.USUARIO (CORREO,NOMBRE,APELLIDOS) values ('victor@uncorreo.es','Victor','Mento');
Insert into SIM18A78K4.USUARIO (CORREO,NOMBRE,APELLIDOS) values ('cardo@sucorreo.es','Ricardo','Borriquero');
--------------------------------------------------------
--  DDL for Index HOTEL_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."HOTEL_PK" ON "SIM18A78K4"."HOTEL" ("CODIGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  DDL for Index OPINION_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."OPINION_PK" ON "SIM18A78K4"."OPINION" ("CODIGO", "FECHA", "CORREO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  DDL for Index RESTAURANTE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."RESTAURANTE_PK" ON "SIM18A78K4"."RESTAURANTE" ("CODIGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  DDL for Index SITIO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."SITIO_PK" ON "SIM18A78K4"."SITIO" ("CODIGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  DDL for Index SITIO_UK1
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."SITIO_UK1" ON "SIM18A78K4"."SITIO" ("DIRECCION", "POBLACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  DDL for Index SITIO_UK2
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."SITIO_UK2" ON "SIM18A78K4"."SITIO" ("CORREO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  DDL for Index USUARIO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SIM18A78K4"."USUARIO_PK" ON "SIM18A78K4"."USUARIO" ("CORREO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS" ;
--------------------------------------------------------
--  Constraints for Table HOTEL
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."HOTEL" ADD CONSTRAINT "HOTEL_CHK1" CHECK (WIFIGRATIS IN ('SI','NO')) ENABLE;
  ALTER TABLE "SIM18A78K4"."HOTEL" ADD CONSTRAINT "HOTEL_CHK2" CHECK (ESTRELLAS BETWEEN 1 AND 5) ENABLE;
  ALTER TABLE "SIM18A78K4"."HOTEL" ADD CONSTRAINT "HOTEL_PK" PRIMARY KEY ("CODIGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"  ENABLE;
  ALTER TABLE "SIM18A78K4"."HOTEL" MODIFY ("ESTRELLAS" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."HOTEL" MODIFY ("WIFIGRATIS" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."HOTEL" MODIFY ("CODIGO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table OPINION
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."OPINION" ADD CONSTRAINT "OPINION_PK" PRIMARY KEY ("CODIGO", "FECHA", "CORREO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"  ENABLE;
  ALTER TABLE "SIM18A78K4"."OPINION" MODIFY ("FECHA" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."OPINION" MODIFY ("CODIGO" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."OPINION" MODIFY ("CORREO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table RESTAURANTE
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."RESTAURANTE" ADD CONSTRAINT "RESTAURANTE_PK" PRIMARY KEY ("CODIGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_ALUMNOS"  ENABLE;
  ALTER TABLE "SIM18A78K4"."RESTAURANTE" MODIFY ("CODIGO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SITIO
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."SITIO" ADD CONSTRAINT "SITIO_PK" PRIMARY KEY ("CODIGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"  ENABLE;
  ALTER TABLE "SIM18A78K4"."SITIO" ADD CONSTRAINT "SITIO_UK1" UNIQUE ("DIRECCION", "POBLACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"  ENABLE;
  ALTER TABLE "SIM18A78K4"."SITIO" ADD CONSTRAINT "SITIO_UK2" UNIQUE ("CORREO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"  ENABLE;
  ALTER TABLE "SIM18A78K4"."SITIO" MODIFY ("NOMBRE" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."SITIO" MODIFY ("DIRECCION" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."SITIO" MODIFY ("POBLACION" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."SITIO" MODIFY ("CODIGO" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."SITIO" MODIFY ("PUNTUACIONMEDIA" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."SITIO" MODIFY ("CORREO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table USUARIO
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."USUARIO" MODIFY ("CORREO" NOT NULL ENABLE);
  ALTER TABLE "SIM18A78K4"."USUARIO" ADD CONSTRAINT "USUARIO_PK" PRIMARY KEY ("CORREO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_ALUMNOS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ES_AMIGO_DE
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."ES_AMIGO_DE" ADD CONSTRAINT "ES_AMIGO_DE_FK1" FOREIGN KEY ("CORREO1")
	  REFERENCES "SIM18A78K4"."USUARIO" ("CORREO") ENABLE;
  ALTER TABLE "SIM18A78K4"."ES_AMIGO_DE" ADD CONSTRAINT "ES_AMIGO_DE_FK2" FOREIGN KEY ("CORREO2")
	  REFERENCES "SIM18A78K4"."USUARIO" ("CORREO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table HOTEL
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."HOTEL" ADD CONSTRAINT "HOTEL_FK1" FOREIGN KEY ("CODIGO")
	  REFERENCES "SIM18A78K4"."SITIO" ("CODIGO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table OPINION
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."OPINION" ADD CONSTRAINT "OPINION_FK1" FOREIGN KEY ("CODIGO")
	  REFERENCES "SIM18A78K4"."SITIO" ("CODIGO") ENABLE;
  ALTER TABLE "SIM18A78K4"."OPINION" ADD CONSTRAINT "OPINION_FK2" FOREIGN KEY ("CORREO")
	  REFERENCES "SIM18A78K4"."USUARIO" ("CORREO") ENABLE;
  ALTER TABLE "SIM18A78K4"."OPINION" ADD CONSTRAINT "OPINION_FK3" FOREIGN KEY ("CODIGO2", "FECHA2", "CORREO2")
	  REFERENCES "SIM18A78K4"."OPINION" ("CODIGO", "FECHA", "CORREO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table RESTAURANTE
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."RESTAURANTE" ADD CONSTRAINT "RESTAURANTE_FK1" FOREIGN KEY ("CODIGO")
	  REFERENCES "SIM18A78K4"."SITIO" ("CODIGO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SITIO
--------------------------------------------------------

  ALTER TABLE "SIM18A78K4"."SITIO" ADD CONSTRAINT "SITIO_FK1" FOREIGN KEY ("CORREO")
	  REFERENCES "SIM18A78K4"."USUARIO" ("CORREO") ENABLE;
